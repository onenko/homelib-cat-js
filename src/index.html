<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="./nan-favourite.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css"/>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.4.slim.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>

    <script type="text/javascript" src="./nan-helper.js"></script>
    <script type="text/javascript" src="./file-helper.js"></script>
    <script type="text/javascript" src="./lang-helper.js"></script>
    <script type="text/javascript" src="./view/view-helper.js"></script>
    <script type="text/javascript" src="./lcbcf-helper.js"></script>

    <script type="text/javascript" src="./data/table-cycles-data-csv.js"></script>
    <script type="text/javascript" src="./data/table-cycles-driver-csv.js"></script>
    <script type="text/javascript" src="./data/table-persons-data-csv.js"></script>
    <script type="text/javascript" src="./data/table-persons-driver-csv.js"></script>
    <script type="text/javascript" src="./data/table-arts-data-csv.js"></script>
    <script type="text/javascript" src="./data/table-arts-driver-csv.js"></script>
    <script type="text/javascript" src="./data/table-authors-data-csv.js"></script>
    <script type="text/javascript" src="./data/table-authors-driver-csv.js"></script>
    <script type="text/javascript" src="./data/table-books-data-csv.js"></script>
    <script type="text/javascript" src="./data/table-books-driver-csv.js"></script>
    <script type="text/javascript" src="./data/table-booksarts-data-csv.js"></script>
    <script type="text/javascript" src="./data/table-booksarts-driver-csv.js"></script>
    <script type="text/javascript" src="./data/table-notes-data-csv.js"></script>
    <script type="text/javascript" src="./data/table-notes-driver-csv.js"></script>

    <script type="text/javascript" src="./view/view-main.js"></script>

    <script type="text/javascript" src="./unit-tests.js"></script>

    <title>Nenko's Home Library Catalogue v0.11</title>

    <script>
    $(document).ready(function() {
        var drivers = {
           CYCLES: CYCLES_driver_csv,
           BOOKS: BOOKS_driver_csv,
           ARTS: ARTS_driver_csv,
           BOOKSARTS: BOOKSARTS_driver_csv,
           PERSONS: PERSONS_driver_csv,
           AUTHORS: AUTHORS_driver_csv,
           NOTES: NOTES_driver_csv };
        UT.LangHelperTest();
        UT.Table_BOOKS_data();
        UT.Table_NOTES_data();
        ViewMain.init(drivers);
        ViewMain.initTable(drivers);
        document.getElementById('export1Link').addEventListener('click', function() {
          let doc = prompt("Please enter file name to export catalogue data to: ", "export.lcbcf");
          let data = generate_lcbcf_content(drivers);
          writeStringToClientFile(data, doc);
        });
        document.getElementById('export2Link').addEventListener('click', function() {
          let data = generate_lcbcf_content(drivers);
          writeStringToClientFile2(data, '');
        });
    });

  </script>
</head>

<body>
<img src="./images/Bookshelf.jpg" align="right" width="222" />
<h1>Nenko's Home Library Catalogue v0.11</h1>

<br/>

<table id="menu"><tr>
    <td id="menu1" class="menu"><b>Main Table</b></td>
    <td id="menu2" class="menu">Detail View</td>
    <td id="menu3" class="menu">Authors</td>
    <td> &nbsp;</td>
    <td><a id="export1Link" href="#" title="Save all the Catalogue to CSV file 'export.lcbcf' in Downloads folder">[EXPORT1]</a></td>
    <td><a id="export2Link" href="#" title="Save all the Catalogue to the existing CSV file you select">[EXPORT2]</a></td>
</tr></table>

<hr/>

<table id="tbl" class="display" cellspacing="0" width="100%" border="1">
    <tfoot>
    <tr id="tfoot-tr" />
    </tfoot>
</table>

<br/>
<br/>
<center>(c) 2023 Oleksandr Nenko</center>

</body>
</html>